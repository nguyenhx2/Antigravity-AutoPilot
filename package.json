{
  "name": "antigravity-autopilot",
  "displayName": "Antigravity AutoPilot",
  "description": "Enables autopilot mode for Antigravity: automatically executes all tool calls and terminal commands without manual confirmation. Patches the runtime JS bundle to inject auto-accept logic whenever the 'Always Proceed' policy is active — regex-based and version-agnostic.",
  "version": "1.4.5",
  "license": "MIT",
  "publisher": "nguyenhx2",
  "bin": {
    "antigravity-autopilot": "./cli.js"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/nguyenhx2/Antigravity-AutoPilot"
  },
  "engines": {
    "vscode": "^1.85.0"
  },
  "categories": [
    "Other"
  ],
  "activationEvents": [
    "onStartupFinished"
  ],
  "main": "./extension.js",
  "icon": "icon.png",
  "contributes": {
    "viewsContainers": {
      "activitybar": [
        {
          "id": "antigravity-autopilot",
          "title": "Antigravity AutoPilot",
          "icon": "icon-sidebar.svg"
        }
      ]
    },
    "views": {
      "antigravity-autopilot": [
        {
          "type": "webview",
          "id": "antigravityAutoPilot.panel",
          "name": "AutoPilot"
        }
      ]
    },
    "commands": [
      {
        "command": "antigravityAutoPilot.applyPatch",
        "title": "Antigravity: Apply AutoPilot Patch",
        "icon": "$(zap)"
      },
      {
        "command": "antigravityAutoPilot.revertPatch",
        "title": "Antigravity: Revert AutoPilot Patch",
        "icon": "$(discard)"
      },
      {
        "command": "antigravityAutoPilot.checkStatus",
        "title": "Antigravity: Check Patch Status",
        "icon": "$(info)"
      },
      {
        "command": "antigravityAutoPilot.openPanel",
        "title": "Antigravity: Open AutoPilot Panel"
      }
    ],
    "keybindings": [
      {
        "command": "antigravityAutoPilot.applyPatch",
        "key": "ctrl+shift+f12"
      }
    ],
    "configuration": {
      "title": "Antigravity AutoPilot",
      "properties": {
        "antigravityAutoPilot.applyOnStartup": {
          "type": "boolean",
          "default": false,
          "description": "Automatically apply the AutoPilot patch when VS Code starts. Safe to enable — patch is idempotent."
        },
        "antigravityAutoPilot.enabledOnStartup": {
          "type": "boolean",
          "default": true,
          "description": "Keep AutoPilot enabled (active) when VS Code starts. When disabled, AutoPilot will be suspended until manually turned on from the sidebar."
        },
        "antigravityAutoPilot.dangerousCommandBlocking.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Block dangerous terminal commands (e.g. rm -rf /, format C:) before they execute. Fully customizable via the blocklist setting."
        },
        "antigravityAutoPilot.dangerousCommandBlocking.action": {
          "type": "string",
          "enum": [
            "block",
            "warn",
            "log"
          ],
          "enumDescriptions": [
            "Block the command entirely and show an error notification.",
            "Show a warning notification but still allow the command to proceed.",
            "Silently log the command to the output channel and allow it to proceed."
          ],
          "default": "block",
          "description": "Action to take when a dangerous command is detected."
        },
        "antigravityAutoPilot.dangerousCommandBlocking.customPatterns": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [],
          "description": "Additional regex patterns (JavaScript syntax) to treat as dangerous commands. Example: [\"^dd if=.*of=/dev/sd\", \"^shred\"]"
        },
        "antigravityAutoPilot.browserPermission": {
          "type": "boolean",
          "default": true,
          "description": "Automatically accept browser action permissions (e.g. 'Agent needs permission to act on chromewebdata'). Requires patch to be applied."
        },
        "antigravityAutoPilot.filePermission": {
          "type": "boolean",
          "default": true,
          "description": "Automatically allow file access permissions with conversation scope. Requires patch to be applied."
        }
      }
    }
  }
}
